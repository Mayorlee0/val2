<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Barbaraâ€™s Mini Love Quest ğŸ’˜</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <main class="app" aria-label="Barbaraâ€™s Mini Love Quest">
      <header class="topbar">
        <div class="brand">
          <div class="title">Barbaraâ€™s Mini Love Quest ğŸ’˜</div>
          <div class="subtitle">Collect the hearts. Unlock the Valentine Gate.</div>
        </div>

        <div class="hud" aria-live="polite">
          <div class="hud-pill" id="hudReasons">Reasons collected: 0 / 7</div>
          <div class="hud-pill" id="hudTime">Time: 0:00</div>
          <button class="hud-pill toggle" id="soundToggle" type="button" aria-pressed="true">
            Sound: On
          </button>
        </div>
      </header>

      <section class="stage" aria-label="Game area">
        <canvas id="gameCanvas" width="900" height="600" aria-label="Game canvas"></canvas>

        <div class="controls" aria-label="Mobile controls">
          <div class="dpad" role="group" aria-label="D-pad">
            <button class="dpad-btn" data-dir="up" aria-label="Move up">â–²</button>
            <div class="dpad-row">
              <button class="dpad-btn" data-dir="left" aria-label="Move left">â—€</button>
              <button class="dpad-btn center" data-dir="down" aria-label="Move down">â–¼</button>
              <button class="dpad-btn" data-dir="right" aria-label="Move right">â–¶</button>
            </div>
          </div>
          <div class="hint">Swipe or use the D-pad â€¢ Desktop: WASD / Arrows</div>
        </div>
      </section>

      <section class="overlay show" id="openingOverlay" role="dialog" aria-modal="true">
        <div class="card">
          <h1>Barbaraâ€™s Mini Love Quest ğŸ’˜</h1>
          <p class="story">
            Barbara, a tiny heart is on a mission to collect 7 reasons I love youâ€¦
          </p>
          <p class="small">
            Find 7 heart tokens around the maze. Each one reveals a reason. Then head to the
            Valentine Gate at the top.
          </p>
          <button id="startBtn" class="primary" type="button">Start Quest</button>
          <div class="tiny">
            Tip: On iPhone, use the D-pad or swipe. Sound is optionalâ€”toggle it anytime.
          </div>
        </div>
      </section>

      <section class="overlay" id="reasonOverlay" role="dialog" aria-modal="true" aria-live="polite">
        <div class="card">
          <h2 id="reasonTitle">Reason Found ğŸ’˜</h2>
          <p id="reasonText" class="reason"></p>
          <button id="reasonOkBtn" class="primary" type="button">Continue</button>
        </div>
      </section>

      <section class="overlay" id="finalOverlay" role="dialog" aria-modal="true">
        <div class="card">
          <h2 class="big">Barbara, will you be my Valentine? ğŸ’</h2>
          <div class="row">
            <button id="yesBtn" class="primary" type="button">Yes ğŸ’˜</button>
            <button id="thinkBtn" class="secondary" type="button">Let me think ğŸ˜…</button>
          </div>
        </div>
      </section>

      <section class="overlay" id="thinkOverlay" role="dialog" aria-modal="true">
        <div class="card">
          <h2>Hehe okay ğŸ˜„</h2>
          <p class="reason">Take your timeâ€¦ but the heart is doing backflips over here ğŸ˜„</p>
          <button id="okayYesBtn" class="primary" type="button">Okay yes ğŸ˜­ğŸ’˜</button>
        </div>
      </section>

      <section class="overlay" id="yesOverlay" role="dialog" aria-modal="true">
        <div class="card">
          <h2 class="big">YAYYYY ğŸ’˜</h2>
          <p class="reason" id="yesMessage">
            Barbara, you just made this tiny heart the happiest heart on Earth.
          </p>
          <button id="restartBtn" class="primary" type="button">Restart</button>
        </div>

        <div id="confettiLayer" class="confetti" aria-hidden="true"></div>
      </section>
    </main>

    <script src="game.js"></script>
  </body>
</html>
